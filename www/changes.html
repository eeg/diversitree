<?xml version="1.0" encoding="utf-8" ?><!-- -*-nxml-*- -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>diversitree: Changes and releases</title>
    <link rel="Stylesheet" type="text/css" href="stylesheet.css"
	  media="all" />
    <link href='http://fonts.googleapis.com/css?family=Oswald|Vollkorn:400italic,400' rel='stylesheet' type='text/css'/>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-22401624-1']);
  _gaq.push(['_trackPageview']);

  (function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
  </head>

  <body>
    <div class="container">
      <h1>diversitree: Changes and releases</h1>

      <ul class="changes">
	<li><b>7 May 2012 [<a
	href="archive/diversitree_0.9-3.tar.gz">0.9-3</a>]</b> Mostly
	a bug fix release, but includes features:
	<ul>
	  <li>
	    A much faster BM/OU likelihood calculator
	    <code>method="pruning", backend="C"</code>, and
	    optimisations for the <code>method="vcv"</code> BM
	    calculator (also note that the "direct" backend is renamed
	    "pruning").
	  </li>
	  <li>
	    GeoSSE tree simuator now included
	    (<code>tree.geosse</code> and via <code>trees</code>))
	  </li>
	  <li>
	    <code>sim.character</code> now faster.
	  </li>
	  <li>
	    BiSSE, MuSSE/multitrait and Mkn/multitrait allow logical
	    trait values, in addition to binary (0=FALSE, 1=TRUE).
	  </li>
	  <li>
	    <code>trait.plot</code> automatically collapses
	    non-monophyletic groups.
	  </li>
	</ul>
	Notable bug fixes:
	<ul>
	  <li>
	    <code>make.musse.multitrait()</code> renamed traits when
	    called with single trait.
	  </li>
	  <li>
	    <code>make.prior.uniform</code> used wrong value for
	    out-of-bounds parameters.
	  </li>
	  <li>
	    BM and OU were mislabelled in <code>sim.character</code>.
	  </li>
	</ul>
	</li>
	
	<li><b>25 March 2012 [<a
	href="archive/diversitree_0.9-2.tar.gz">0.9-2</a>]</b>
	New models and extensions to models: 
	<ul>
	  <li>geiger-style vcv based calculations for
	  <code>make.ou</code>, via <code>method="vcv"</code>.</li>
	</ul>
	Bug fixes, etc:
	<ul>
	  <li><code>sim.character</code> was broken in 0.9-1</li>
	  <li><code>Improved <code>profiles.plot</code> (automatic
	  legends, better colour control).</code></li>
	  <li>Improved likelihood function printing.</li>
	  <li>This version also has had an enormous behind-the-scenes
	  rewrite (again).  Despite the small list of changes,
	  thousands of lines of code have changed, and bugs may still
	  remain.</li>
	</ul>
	<li><b>13 March 2012 [<a
	href="archive/diversitree_0.9-1.tar.gz">0.9-1</a>]</b> New models and
	extensions to models:
	<ul>
	  <li>
	    Includes BiSSE-ness (by Karen Magnuson-Ford and <a
	    href="/~otto">Sally Otto</a>) and ClaSSE (by <a
	    href="http://www.uic.edu/~eeg">Emma Goldberg</a>),
	    extending BiSSE and MuSSE models to non-anagenetic
	    evolution.
	  </li>
	  <li>
	    <code>make.geosse.split</code> (again, contributed by <a
	    href="http://www.uic.edu/~eeg">Emma Goldberg</a>) for
	    incorporating topological rate varaition in GeoSSE models.
	  </li>
	  <li>
	    Added <code>make.mkn.multitrait</code> for modelling
	    multiple binary traits (analagous to
	    <code>make.musse.multitrait</code>).
	  </li>
	  <li>
	    Alternate method of calculation for Mk models
	    (<code>make.mkn</code>) with very large numbers of
	    possible states.  Select with
	    <code>control=list(method="ode").</code>
	  </li>
	  <li>
	    Non-VCV based Brownian motion likelihood calculations (via
	    the argument <code>control=list(method="direct")</code> to
	    <code>make.bm</code>).  This can be substantially faster
	    for very large trees (&gt; 1000 tips).
	  </li>
	  <li>
	    New version of the <code>mkn</code> model that will be
	    substantially faster for many traits (&gt; 30 traits).
	    This mainly affects <code>mkn.multitrait</code>.
	  </li>
	  <li>
	    Ornstein-Uhlenbeck model (for completeness, as this is
	    present in <a
	    href="http://cran.r-project.org/web/packages/geiger">many</a>,
	    <a
	    href="http://cran.r-project.org/web/packages/OUwie">many</a>
	    <a
	    href="http://cran.r-project.org/web/packages/ouch">different</a>
	    <a
	    href="http://cran.r-project.org/web/packages/ape">packages</a>
	    on <a href="http://cran.r-project.org">CRAN</a> already).
	  </li>
	  <li>
	    Function <code>sim.character</code> for simulating traits
	    given a tree.
	  </li>
	  <li>
	    Ancestral state reconstruction under split BiSSE and MuSSE
	    models.
	  </li>
	</ul>
	Notable new features and bug fixes:
	<ul>
	  <li>
	    Updated to work with deSolve 1.10-3
	  </li>
	  <li>
	    <code>mcmc</code> can now return partial results during a
	    long run.
	  </li>
	  <li>
	    <code>make.prior.uniform</code> for specifying uniform
	    priors. 
	  </li>
	  <li>
	    <code>make.bd.t</code> did not allow incomplete sampling
	    (reported by Dan Rabosky).
	  </li>
	  <li>
	    Improved the way <code>contrain</code> deals with
	    constraining parameters that are targets of constraints.
	    Also, additional arguments were not being passed to the
	    functions generated by <code>constrain</code>.
	  </li>
	  <li>
	    "Split" functions now allow caching branches (via
	    <code>control=list(caching.branches=TRUE)</code>).  This
	    can result in large speedups, particularly for
	    <code>make.quasse.split</code>.
	  </li>
	  <li>
	    Improved consistency of calculation method switching
	    across different likelihood functions (especially
	    <code>bd</code> and <code>bm</code> models).
	  </li>
	  <li>
	    Simulate trees under the <code>musse.multitrait</code>
	    model.
	  </li>
	  <li>
	    The <code>anova</code> function will now refuse to run a
	    likelihood ratio test for non-nested models (it may be
	    overzealous in some cases).
	  </li>
	  <li>
	    Function <code>trait.plot</code> to plot the distribution
	    of multiple traits on a radial phylogeny.
	  </li>
	</ul>
	</li>
	<li><b>18 July 2011 [<a
	href="archive/diversitree_0.7-7.tar.gz">0.7-7</a>]</b>
	<ul>
	  <li>Works with deSolve 1.10-2.</li>
	</ul>
	</li>
	<li><b>11 July 2011 [<a
	href="archive/diversitree_0.7-6.tar.gz">0.7-6</a>]</b>
	<ul>
	  <li>New parametrisation of MuSSE available where the
	  multi-state trait is really combinations of binary states.
	  This allows expressing speciation and extinction rates as main
	  effects and interations of the underlying binary traits, and
	  easily restricting trait evolution to a single trait at a
	  time.</li>
	  <li>Some internal streamlining that should speed up most
	  models slightly</li>
	  <li>Faster stochastic character mapping</li>
	  <li>Various bugs fixed (<code>mcmc</code> not passing
	  additional arguments properly, <code>make.bd.split</code> not
	  using unresolved clade information).</li>
	</ul>
	</li>
	<li><b>12 May 2011 [<a
	href="archive/diversitree_0.7-2.tar.gz">0.7-2</a>]</b>
	<ul>
	  <li>Fixed bug that prevented use on Windows</li>
	</ul>
	</li>
	<li><b>11 May 2011 [<a
	href="archive/diversitree_0.7-1.tar.gz">0.7-1</a>]</b>
	<ul>
	  <li>New <a
	  href="https://computation.llnl.gov/casc/sundials/main.html">Sundials</a>
	  based solver <a
	  href="https://computation.llnl.gov/casc/sundials/description/description.html#descr_cvode">CVODE</a>
	  available (switch with
	  <code>control=list(backend="CVODES")</code>).  In some cases this is
	  8x faster than the previous version.</li>
	  <li>Bug fixes.  In particular, the equilibrium root state
	  treatment (<code>ROOT.EQUI</code>) was incorrect.</li>
	  <li>Works with deSolve 1.10.</li>
	</ul>
	</li>
	<li><b>20 April 2011 [<a
	href="archive/diversitree_0.6-5.tar.gz">0.6-5</a>]</b>
	Bug fixes mostly:
	<ul>
	  <li>Better integration control for all ODE-based solvers.</li>
	  <li>Slightly altered root state treatment (exact calculations
	  will change with <code>condition.surv=TRUE</code>)</li>
	  <li>Very basic mixed integer nonlinear optimisation approach
	  for finding ML point for some QuaSSE models that involve a
	  character space variable (poorly documented at present).</li>
	  <li>Assorted minor bug fixes.</li>
	</ul>
	</li>
	<li><b>26 January 2011 [<a
	href="archive/diversitree_0.6-3.tar.gz">0.6-3</a>]</b>.  Bug
	fixes and some new features/models:
	<ul>
	  <li>Includes <a href="http://tigger.uic.edu/~eeg/">Emma
	  Goldberg's</a> GeoSSE model</li>
	  <li>New numerical <a
	  href="http://en.wikipedia.org/wiki/Method_of_lines">method-of-lines</a>
	  integrator for QuaSSE, which may be more robust in some
	  situations.</li>
	  <li>Marginal ancestral state reconstructions for MuSSE
	  models.</li>
	  <li>Better support for MuSSE/mkn models with &gt;9 states</li>
	  <li>Works with deSolve 1.9</li>
	  <li>Builds on <a
	  href="http://cran.r-project.org/web/packages/diversitree/">CRAN</a>
	  for windows!</li>
	</ul>
	</li>

	<li><b>21 October 2010 [<a
	href="archive/diversitree_0.6-1.tar.gz">0.6-1</a>]</b>.  A
	number of new models.
	<ul>
	  <li>"<b>QuaSSE</b>" (Quantitative Trait Speciation and
	  Extinction): new method is now released.  This tests for
	  correlation between a continuous/quantitative character and
	  rates of speciation and/or extinction.  Includes support for
	  "split" QuaSSE analyses.</li>
	  <li>Improved support for time dependent models: now,
	  speciation, extinction, and (for BiSSE only) character change
	  rates may be arbitrary functions of time.  This is implemented
	  for birth-death models, BiSSE, and MuSSE.</li>
	</ul>
	</li>

	<li><b>23 September 2010 [<a
	href="archive/diversitree_0.5-3.tar.gz">0.5-3</a>]</b>. A couple
	of model extensions, documentation improvements, and bug fixes.
	<ul>
	  <li>Now works with deSolve 1.8</li>
	  <li>Time-dependent and "split" MuSSE models are now included.
	  The interface for both is similar to their BiSSE
	  analogues.</li>
	  <li>A new tutorial document.</li>
	</ul>
	</li>
	<li><b>12 August 2010 [<a
	href="archive/diversitree_0.5-2.tar.gz">0.5-2</a>]</b>.  A
	number of new models and bug fixes.
	<ul>
	  <li>"<b>MuSSE</b>" (Multi-State Speciation and Extinction):
	  the multiple-character extension to BiSSE is now implemented.
	  This allows modelling characters with more than two states, or
	  combinations of characters (similar to the Pagel 1994 method
	  for rates of character evolution).  Likelihood calculations
	  and tree simulation are supported.</li>
	  <li>Simple support for Brownian Motion models of continuous
	  trait evolution (single trait only).</li>
	  <li>"Split BiSSE" model: this combines aspects of the MEDUSA
	  model (Alfaro et al. 2009) with the BiSSE model to allow
	  different parts of the tree to have different rates of
	  speciation, extinction, and/or character evolution.  For
	  completeness a "Split BD" model is also implemented.  None of
	  these assist in searching for positions in the tree where
	  rates shift.</li>
	  <li>"Time-dependent" BiSSE, where different chunks of time
	  have different rates of speciation, extinction, and/or
	  character evolution.
	  </li>
	</ul>
	The new models' documentation is still very preliminary and
	these are not yet in the tutorial document.<br/> 
	Other new features:
	<ul>
	  <li>Interrupting a <code>mcmc</code> run will return a
	  truncated set of samples.</li>
	  <li>Constrained functions can be constrained (though this is
	  still limited)</li>
	  <li><code>subplex</code> is now the default ML search
	  algorithm for BiSSE and MuSSE models.</li>
	</ul>
	</li>

	<li><b>2 March 2010 [<a
	href="archive/diversitree_0.4-5.tar.gz">0.4-5</a>]</b>.  Some
	important bug fixes (BiSSE likelihood calculations were very
	slightly incorrect at root and unresolved clade calculations
	were incorrect when no species within a clade had a known
	state).  Other changes:
	<ul>
	  <li>Added support for sampling and unresolved clades in
	  constant rate birth-death models.</li>
	  <li>Fixes to the Mk2 ancestral state reconstructions</li>
	  <li>Works with deSolve version 1.7</li>
	  <li>Assorted small bug fixes and documentation
	  improvements</li>
	</ul>
	</li>

	<li><b>2 Febrary 2010 [<a
	href="archive/diversitree_0.4-4.tar.gz">0.4-4</a>]</b>.  New
	features include:
	<ul>
	  <li>Ancestral state reconstruction and stochastic character
	  mapping under Mk2 (<code>?asr.mk2</code>) (slow, but will get
	  faster in future versions)</li>
	  <li>Much faster Mk2 likelihood calculation (speed increase of
	  20-50x)</li>
	  <li>Ancestral state reconstruction under BiSSE
	  (<code>?asr.marginal.bisse</code>)</li>
	</ul>
	The ancestral state reconstruction code should be regarded as
	<strong>experimental</strong>.
	</li>
	<li><b>19 January 2010 [<a
	href="archive/diversitree_0.4-3.tar.gz">0.4-3</a>]</b>.  Mostly
	a few bug fixes.
	</li>
	<li><b>11 January 2010 [<a
	href="archive/diversitree_0.4-2.tar.gz">0.4-2</a>]</b>.  New
	features include: 
	<ul>
	  <li>Remembering and plotting character histories on simulated
	  trees (see <code>?tree.bisse</code></li>
	  <li>Works with deSolve 1.6</li>
	  <li>Support for simulating Yule trees and estimating Yule
	  model parameters</li>
	  <li>Bug fixes and improvements to the MLE code</li>
	</ul>
	</li>
	<li><b>02 December 2009 [<a
	href="archive/diversitree_0.4-1.tar.gz">0.4-1</a>]</b>.  New
	features include
	<ul>
	  <li>Constant rate birth death model (<code>make.bd</code>) and
	  Mk2/Mk-n (<code>make.mk2</code>, <code>make.mkn</code>) models
	  implemented</li>
	  <li>Now works with the current deSolve package</li>
	  <li>Node states now retained during tree simulation (see
	  <code>?trees</code> for an example)</li>
	  <li>Simple MCMC plots with <code>profiles.plot</code></li>
	  <li>Several bugs fixes, documentation improvements, additional
	  examples, and minor features</li>
	</ul>
	</li>
	<li><b>16 October 2009 [<a href="archive/diversitree_0.3-2.tar.gz">0.3-2</a>]:</b>: Minor bugfix</li>
	<li><b>15 October 2009 [<a href="archive/diversitree_0.3-1.tar.gz">0.3-1</a>]:</b>
	<ul>
	  <li>New formula-based constraint interface (through function
	  <code>constrain()</code>)</li>
	  <li><a
		  href="http://cran.r-project.org/web/packages/subplex/index.html">Subplex</a> available to do ML searches</li>
	  <li>Simple hypothesis testing convenience functions added
	  (<code>anova()</code>, <code>logLik()</code>).</li>
	</ul>
	</li>
	<li><b>5 May 2009 [<a href="archive/diversitree_0.2-1.tar.gz">0.2-1</a>]:</b> Initial public release</li>
      </ul>

    </div>

    <ul class="footer">
      <li>© 2012 <a href="http://www.zoology.ubc.ca/~fitzjohn">Rich
      FitzJohn</a></li>
      <li><a href="index.html">Home</a></li>
      <li><a href="studies.html">Studies</a></li>
      <li><a href="changes.html">Changes</a></li>
      <li><a href="examples.html">Examples</a></li>
      <li><a href="faq.html">FAQ</a></li>
      <li><a href="http://cran.r-project.org/web/packages/diversitree">CRAN</a></li>
    </ul>
  </body>
</html>
