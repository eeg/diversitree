<?xml version="1.0" encoding="utf-8" ?><!-- -*-nxml-*- -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>diversitree</title>
    <link rel="Stylesheet" type="text/css" href="stylesheet.css"
	  media="all" />
    <!--<link href='http://fonts.googleapis.com/css?family=IM+Fell+DW+Pica|IM+Fell+English+SC' rel='stylesheet' type='text/css'/>-->
    <link href='http://fonts.googleapis.com/css?family=Oswald|Vollkorn:400italic,400' rel='stylesheet' type='text/css'/>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-22401624-1']);
  _gaq.push(['_trackPageview']);

  (function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
  </head>

  <body>
    <div class="container">
      <div class="float-right">
<!--	<img src="pics/logo.png" alt="Diversitree logo" class="display" />-->
	<img src="logo.png" alt="Diversitree logo" class="display" 
	     title="[diversitree logo:
source('http://www.zoology.ubc.ca/prog/diversitree/logo.R')]" />
      </div>
      <h1>diversitree</h1>

      <p>
	Comparative phylogenetic analysis of diversification in <a
	href="http://www.r-project.org">R</a>.  The "diversitree"
	package includes a number of comparative phylogenetic methods,
	mostly focussing on analysing diversification and character
	evolution.  
      </p>

      <p>
	Contains implementations of BiSSE (Binary State Speciation and
	Extinction: <a
	href="http://dx.doi.org/10.1080/10635150701607033">Maddison et
	al. 2007</a>) and its extension to incompletely resolved
	phylogenies (<a 
	href="http://dx.doi.org/10.1093/sysbio/syp067">FitzJohn et
	al. 2009</a>), 
	MuSSE (Multiple State Speciation and Extinction) and 
	QuaSSE (Quantitative State Speciation and Extinction:
	<a href="http://dx.doi.org/10.1093/sysbio/syq053">FitzJohn
	2010</a>).
      </p>

      <p>
	For non-anagenetic character evolution, there are two included
	methods: GeoSSE (Geographic State Speciation and Extinction;
	<a href="http://dx.doi.org/10.1093/sysbio/syr046">Goldberg et
	al. 2011</a>) and BiSSE-ness (BiSSE-Node Enhanced State Shift:
	Magnuson-Ford and Otto in press).
      </p>

     <p> 
       The package also includes support for Markov models of
       character evolution (e.g., <a
       href="http://dx.doi.org/10.1098/rspb.1994.0006">Pagel 1994</a>,
       and Brownian motion) and character-independent
       speciation/extinction (<a
       href="http://dx.doi.org/10.1098/rstb.1994.0068">Nee et
       al. 1994</a>).
     </p>

     <p><b>Install diversitree</b> from within R:</p>
     <pre>install.packages("diversitree")</pre>
     <p>or see <a href="#source">below</a> for more information, or
     for installation from source.</p>

      <h2>applications</h2>
      <p>
	Diversitree has been used in a number of <a
	href="studies.html">studies</a>.  If you use diversitree in a
	paper, please let me know!
      </p>

      <h2>Documentation</h2>
      <p>
	A tutorial is available <a
	href="doc/diversitree-tutorial.pdf">here</a>, which outlines
	use of the main models.  Most of the examples here use
	simulated data, but to run the shorebird, primates, and
	chaparral example, you will need a number of files from <a
	href="doc/files">here</a>.  
      </p>

      <p>
	Additional help is available through R's online help system;
	type <code>library(help=diversitree)</code> for a list of
	topics.  A PDF version of this manual is available <a
	href="doc/diversitree-manual.pdf">here</a>.
      </p>

      <p>
	Frequently asked questions and answers are <a
	href="faq.html">here</a>.
      </p>

      <p>
	I am starting to convert help for users to small documents if
	I think that they will be of sufficiently broad interest.  See
	<a href="examples">here</a> for a number of documented worked
	examples using diversitree.  (As this grows, please also check
	here and the <a href="faq.html">faq</a> before emailing.)
      </p>

      <p>
	It is possible to extend diversitree to add your own models.
	The way this works changes over time, but some pointers are
	available in the <a href="doc/diversitree-ext.pdf">extending
	diversitree</a> manual.
      </p>

      <h2>Licence</h2>
      <p>
	Diversitree is released under the <a
	href="http://www.gnu.org/licenses/gpl-2.0.html">GPL, version
	2</a>.
      </p>
      <p>
	It uses the excellent <a
	href="http://www.maths.uq.edu.au/expokit/">Expokit</a> library
	for matrix exponential calculations for using BiSSE with
	terminally unresolved clades, and <a
	href="http://www.fftw.org">FFTW</a> (Fastest Fourier Transforms
	in the West) for QuaSSE calculations.
      </p>

      <h2>Releases / Changes</h2>
      <p>
	A history of previous releases, and copies of previous
	versions, can be found <a href="changes.html">here</a>.
      </p>

      <a name="source"></a>
      <h2>Download &amp; installation</h2>
      <p>The simplest route is to install the package through R:</p>
      <pre>install.packages("diversitree")</pre>
      <p>which will install diversitree from CRAN (<a
      href="http://cran.r-project.org/web/packages/diversitree/">current
      CRAN version</a>: 0.9-1)</p>

      <p>Alternatively, diversitree can be installed from source.
      Download the source package from 
      <a href="diversitree_0.9-3.tar.gz">here</a> (current version
      0.9-3).
      </p>
      <p>It is important that this file is not uncompressed by your
      browser.  If the file is downloaded without the "gz" extension,
      try right-clicking the file and selecting "Save file as" (or
      similar depending on your browser).  Mac users might try
      </p>
      <pre>curl -O http://www.zoology.ubc.ca/prog/diversitree/diversitree_0.9-3.tar.gz</pre>
      <p>
	from the command line.
      </p>

      <p>
	This download is a source package only; you will need a
	working C and Fortran compiler to install the package.  (Xcode +
	<a href="http://r.research.att.com/tools/">gfortran</a> is
	sufficient on Mac OS X, most Linux systems are probably fine
	as-is, and on windows consider <a
	href="http://www.mingw.org/">MinGW</a> or the tools <a
	href="http://www.murdoch-sutherland.com/Rtools/">here</a>).
	First, install the packages <a
	href="http://cran.r-project.org/web/packages/deSolve/index.html">deSolve</a>,
	<a
	    href="http://cran.r-project.org/web/packages/ape/index.html">ape</a>,
	and <a
	href="http://cran.r-project.org/web/packages/subplex/index.html">subplex</a>
	From within R, run
      </p>
      <pre>install.packages("diversitree_0.9-3.tar.gz", repos=NULL, type="source")</pre>
      <p>
	which will compile and install the package.
      </p>

      <p>diversitree is also on github -- <a
      href="https://github.com/richfitz/diversitree">github.com/richfitz/diversitree</a>.
      If you want to play with the sources, this is probably the place
      to get it.  Please let me know if you do though.  Also, be aware
      that I use this as a backup and the version on github may not
      compile, may work incorrectly, or cause any number of problems
      for your analyses.
      </p>

      <p>See <a href="installation.html">here</a> for more information
      and for information about setting up QuaSSE.</p>

      <h2>References</h2>
      <ul class="references">
	<li>
	  Alfaro M.E., Santini F., Brock C., Alamillo H., Dornburg A.,
	  Rabosky D.L., Carnevale G., and Harmon L.J. 2009. Nine
	  exceptional radiations plus high turnover explain species
	  diversity in jawed vertebrates.
	  Proc. Natl. Acad. Sci. U.S.A. 106:13410-13414.
	</li>
	<li>
	  FitzJohn R.G., Maddison W.P., and Otto S.P. 2009.  Estimating
	  trait-dependent speciation and extinction rates from
	  incompletely resolved phylogenies.  <i>Systematic Biology</i>
	  58: 595-611.
	</li>
	<li>
	  FitzJohn R.G. 2010.  Quantitative traits and diversification.
	  <i>Systematic Biology</i> 59: 619-633.
	</li>
	<li>
	  Goldberg E.E., Lancaster L.T., and Ree R.H. 2011.
	  Phylogenetic inference of reciprocal effects between
	  geographic range evolution and diversification. Systematic
	  Biology <i>in press</i>.
	</li>
	<li>
	  Maddison W.P., Midford P.E., and Otto S.P. 2007. Estimating a
	  binary character's effect on speciation and
	  extinction. <i>Systematic Biology</i> 56: 701-710.
	</li>
	<li>
	  Magnuson-Ford K. and Otto S.P. 2012. Linking the
	  investigations of character evolution and species
	  diversification.  American Naturalist, in press.
	</li>
	<li>
	  Nee S., May R.M., and Harvey P.H. 1994. The reconstructed
	  evolutionary process. Philos.  Trans. R. Soc. Lond. B
	  Biol. Sci. 344:305-311.
	</li>
	<li>
	  Pagel M. 1994. Detecting correlated evolution on phylogenies:
	  a general method for the comparative analysis of discrete
	  characters. <i>Proceedings B</i> 255:37-45.
	</li>
      </ul>
      
    </div>
    <ul class="footer">
      <li>Â© 2012 <a href="http://www.zoology.ubc.ca/~fitzjohn">Rich
      FitzJohn</a></li>
      <li><a href="index.html">Home</a></li>
      <li><a href="studies.html">Studies</a></li>
      <li><a href="changes.html">Changes</a></li>
      <li><a href="examples">Examples</a></li>
      <li><a href="faq.html">FAQ</a></li>
      <li><a href="http://cran.r-project.org/web/packages/diversitree">CRAN</a></li>
    </ul>
  </body>
</html>
